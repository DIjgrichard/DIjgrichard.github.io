<!DOCTYPE html>

<html>
<head>
	<meta charset=utf-8 />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Demo...</title>
	<script src="https://www.gstatic.com/firebasejs/5.4.1/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/5.4.1/firebase-messaging.js"></script>
	<script src="https://lightspeed.dev.ofsys.com/T/OFC4/WPS/19269/11726/QZ5bkvHnBtpwDQKaZkYjXk2IwW86s1mn/DI.WebPush-min.js"></script>
</head>
<body>
	<label>Adresse courriel du contact</label>
	<input id="email" type="text" style="width:300px;" />
	<input type="button" value="Identifier le contact" onclick="DI.WebPush.Identify('f_EMail', document.getElementById('email').value);" />
	<input type="button" value="Reset identification" onclick="DI.WebPush.ResetIdentify();" />
	<br/>
	<input type="button" value="DI.WebPush.RequestPermission('fr')" onclick="DI.WebPush.RequestPermission('fr');"  />
	<input type="button" value="DI.WebPush.RequestPermission('en')" onclick="DI.WebPush.RequestPermission('en');"  />

	<script>
	if(DI.WebPush.isSupported()){
		console.log("Navigateur support webpush");
		document.write("<br><br>DI.WebPush.isSupported() : Navigateur supporte webpush<br>");
	}
	else{
		console.log("Navigateur ne support pas webpush");
		document.write("DI.WebPush.isSupported() : Navigateur ne supporte pas webpush<br>");
	}	
	if(DI.WebPush.isSubscribed()){
		console.log("WebPush autorisés");
		document.write("DI.WebPush.isSubscribed() : WebPush autorisés<br>");
	}
	else{
		console.log("WebPush non autorisés");
		document.write("DI.WebPush.isSubscribed() : WebPush non autorisés<br>");
	}	
	if(DI.WebPush.isBlocked()){
		console.log("WebPush bloqué");
		document.write("DI.WebPush.isBlocked() : WebPush bloqué<br>");
	}
	else{
		console.log("WebPush non bloqué");
		document.write("DI.WebPush.isBlocked() : WebPush non bloqué<br>");
	}
	document.write("<br><br>User-agent header sent: " + navigator.userAgent);
	</script>

<!--
DI.WebPush.RequestPermission('LangCode')
DI.WebPush.Identify('KeyFieldCode', 'value')
DI.WebPush.isSupported()
DI.WebPush.isSubscribed()
DI.WebPush.isBlocked()
-->
	
	
</body>
</html>
