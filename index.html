<!DOCTYPE html>

<html>
<head>
	<meta charset=utf-8 />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Demo...</title>
	<script src="https://www.gstatic.com/firebasejs/5.4.1/firebase-app.js"></script>
	<script src="https://www.gstatic.com/firebasejs/5.4.1/firebase-messaging.js"></script>
	<script src="https://lightspeed.dev.ofsys.com/T/OFC4/WPS/19269/11726/QZ5bkvHnBtpwDQKaZkYjXk2IwW86s1mn/DI.WebPush-min.js"></script>
</head>
<body>
	<label>Adresse courriel du contact</label>
	<input id="email" type="text" style="width:300px;" />
	<input type="button" value="Identifier le contact" onclick="DI.WebPush.Identify('f_EMail', document.getElementById('email').value);" />
	<input type="button" value="Reset identification" onclick="DI.WebPush.ResetIdentify();" />
	<br/><br/>
	<input type="button" value="DI.WebPush.RequestPermission('fr')" onclick="DI.WebPush.RequestPermission('fr');" />
	<input type="button" value="DI.WebPush.RequestPermission('en')" onclick="DI.WebPush.RequestPermission('en');"  />
	<input type="button" value="DI.WebPush.RequestPermission('de')" onclick="DI.WebPush.RequestPermission('de');"  />
	<br><br/>
	<input type="button" value="Reload page" onclick="location.reload();"  /><br/>
	<script>
									     	
		if(DI.WebPush.isSupported()){
			document.write("<br><br>DI.WebPush.isSupported() : Navigateur supporte webpush<br>");
		}
		else{
			document.write("DI.WebPush.isSupported() : Navigateur ne supporte pas webpush<br>");
		}	
		if(DI.WebPush.isSubscribed()){
			document.write("DI.WebPush.isSubscribed() : WebPush autorisés<br>");
		}
		else{
			document.write("DI.WebPush.isSubscribed() : WebPush non autorisés<br>");
		}	
		if(DI.WebPush.isBlocked()){
			document.write("DI.WebPush.isBlocked() : WebPush bloqué<br>");
		}
		else{
			document.write("DI.WebPush.isBlocked() : WebPush non bloqué<br>");
		}
	
	document.write("<p>Browser CodeName: " + navigator.appCodeName + "</p>");
	document.write("<p>Browser Name: " + navigator.appName + "</p>");
	document.write("<p>Browser Version: " + navigator.appVersion + "</p>");
	document.write("<p>Cookies Enabled: " + navigator.cookieEnabled + "</p>");
	document.write("<p>Browser Language: " + navigator.language + "</p>");
	document.write("<p>Browser Online: " + navigator.onLine + "</p>");
	document.write("<p>Platform: " + navigator.platform + "</p>");
	document.write("<p>User-agent header: " + navigator.userAgent + "</p>");
	</script>

<!--
DI.WebPush.RequestPermission('LangCode')
DI.WebPush.Identify('KeyFieldCode', 'value')
DI.WebPush.isSupported()
DI.WebPush.isSubscribed()
DI.WebPush.isBlocked()
-->
	
	
	<script type="text/javascript">
    (function(p,u,s,h){
        p._pcq=p._pcq||[];
        p._pcq.push(['_currentTime',Date.now()]);
        s=u.createElement('script');
        s.type='text/javascript';
        s.async=true;
        s.src='https://cdn.pushcrew.com/js/3fc1f2a04a54307a06d88fdf64a48316.js';
        h=u.getElementsByTagName('script')[0];
        h.parentNode.insertBefore(s,h);
    })(window,document);
  </script>
	
	
</body>
</html>
